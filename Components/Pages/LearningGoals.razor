@page "/goals/{subject}"
@rendermode InteractiveServer
@inject IMarkdownFileService MdService
<AuthorizeView>
    <MarkdownComponent @bind-MarkdownContent="@content"></MarkdownComponent>
    <MudButton OnClick="@OnSaveClickAsync">Gem Ã¦ndringer</MudButton>
</AuthorizeView>

<MudPaper Class="border-secondary-subtle border-2 mt-3 mb-3">
    <MudMarkdown Value="@content"></MudMarkdown>
</MudPaper>

@code {
    [Parameter] public string Subject { get; set; }
    private string path;
    private string content = "";

    protected override async Task OnInitializedAsync()
    {
        path = Subject switch
        {
            "devops" => "wwwroot/goals/DevOps_Goals.md",
            "react" => "wwwroot/goals/React_Goals.md"
        };
        content = await MdService.ReadFileAsync(path);
    }

    private async Task OnSaveClickAsync()
    {
        await MdService.WriteFileAsync(path, content);
    }

}