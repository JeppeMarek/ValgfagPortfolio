@using Radzen.Blazor
@rendermode InteractiveAuto
<RadzenComponents></RadzenComponents>
<RadzenColumn class="rz-pt-6" Gap="3rem" RowGap="2rem" Style="width: 100%; height: 100%">
    <RadzenColumn Size="12" SizeMD="6" Style="min-width: 0;">
        @* ReSharper disable Html.AttributesQuotes *@
        <RadzenTextArea @class="overflow-scroll" Value="@MarkdownContent"
                        ValueChanged="OnValueChanged"
                        Style="width: 100%; height: 400px;"/>
        @* ReSharper restore Html.AttributesQuotes *@
    </RadzenColumn>

    <RadzenColumn Size="12" SizeMD="6" Style="min-width: 0;">
        <MudButton OnClick="@UpdatePreview">Opdater forh√•ndsvisning</MudButton>
        <RadzenMarkdown Text="@MarkdownContent"/>
    </RadzenColumn>
</RadzenColumn>

@code {
    private string previewText = "";

    private async Task OnValueChanged(string? value)
    {
        MarkdownContent = value;
        await MarkdownContentChanged.InvokeAsync(value);
    }

    private async Task UpdatePreview()
    {
        previewText = MarkdownContent ?? "";
    }

    [Parameter] public string? MarkdownContent { get; set; }

    [Parameter] public EventCallback<string?> MarkdownContentChanged { get; set; }
}
